import"./modulepreload-polyfill-9p4a8sJU.js";var e=e||{};e.KeyCode={BACKSPACE:8,TAB:9,RETURN:13,SHIFT:16,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};e.Utils=e.Utils||{};e.Utils.matches=function(t,o){return Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(s){for(var i=t.parentNode.querySelectorAll(s),a=i.length;--a>=0&&i.item(a)!==this;);return a>-1}),t.matches(o)};e.Utils.remove=function(t){return t.remove&&typeof t.remove=="function"?t.remove():t.parentNode&&t.parentNode.removeChild&&typeof t.parentNode.removeChild=="function"?t.parentNode.removeChild(t):!1};e.Utils.isFocusable=function(t){if(t.tabIndex<0||t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!="ignore";case"INPUT":return t.type!="hidden";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}};e.Utils.getAncestorBySelector=function(t,o){if(!e.Utils.matches(t,o+" "+t.tagName))return null;for(var s=t,i=null;i===null;)e.Utils.matches(s.parentNode,o)?i=s.parentNode:s=s.parentNode;return i};e.Utils.hasClass=function(t,o){return new RegExp("(\\s|^)"+o+"(\\s|$)").test(t.className)};e.Utils.addClass=function(t,o){e.Utils.hasClass(t,o)||(t.className+=" "+o)};e.Utils.removeClass=function(t,o){var s=new RegExp("(\\s|^)"+o+"(\\s|$)");t.className=t.className.replace(s," ").trim()};e.Utils.bindMethods=function(t){var o=Array.prototype.slice.call(arguments,1);o.forEach(function(s){t[s]=t[s].bind(t)})};var e=e||{};e.Utils=e.Utils||{};(function(){e.Utils.IgnoreUtilFocusChanges=!1,e.Utils.dialogOpenClass="has-dialog",e.Utils.focusFirstDescendant=function(t){for(var o=0;o<t.childNodes.length;o++){var s=t.childNodes[o];if(e.Utils.attemptFocus(s)||e.Utils.focusFirstDescendant(s))return!0}return!1},e.Utils.focusLastDescendant=function(t){for(var o=t.childNodes.length-1;o>=0;o--){var s=t.childNodes[o];if(e.Utils.attemptFocus(s)||e.Utils.focusLastDescendant(s))return!0}return!1},e.Utils.attemptFocus=function(t){if(!e.Utils.isFocusable(t))return!1;e.Utils.IgnoreUtilFocusChanges=!0;try{t.focus()}catch{}return e.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===t},e.OpenDialogList=e.OpenDialogList||new Array(0),e.getCurrentDialog=function(){if(e.OpenDialogList&&e.OpenDialogList.length)return e.OpenDialogList[e.OpenDialogList.length-1]},e.closeCurrentDialog=function(){var t=e.getCurrentDialog();return t?(t.close(),!0):!1},e.handleEscape=function(t){var o=t.which||t.keyCode;o===e.KeyCode.ESC&&e.closeCurrentDialog()&&t.stopPropagation()},document.addEventListener("keyup",e.handleEscape),e.Dialog=function(t,o,s){if(this.dialogNode=document.getElementById(t),this.dialogNode===null)throw new Error('No element found with id="'+t+'".');var i=["dialog","alertdialog"],a=(this.dialogNode.getAttribute("role")||"").trim().split(/\s+/g).some(function(c){return i.some(function(d){return c===d})});if(!a)throw new Error("Dialog() requires a DOM element with ARIA role of dialog or alertdialog.");var r="dialog-backdrop";if(this.dialogNode.parentNode.classList.contains(r)?this.backdropNode=this.dialogNode.parentNode:(this.backdropNode=document.createElement("div"),this.backdropNode.className=r,this.dialogNode.parentNode.insertBefore(this.backdropNode,this.dialogNode),this.backdropNode.appendChild(this.dialogNode)),this.backdropNode.classList.add("active"),document.body.classList.add(e.Utils.dialogOpenClass),typeof o=="string")this.focusAfterClosed=document.getElementById(o);else if(typeof o=="object")this.focusAfterClosed=o;else throw new Error("the focusAfterClosed parameter is required for the aria.Dialog constructor.");typeof s=="string"?this.focusFirst=document.getElementById(s):typeof s=="object"?this.focusFirst=s:this.focusFirst=null;var n=document.createElement("div");this.preNode=this.dialogNode.parentNode.insertBefore(n,this.dialogNode),this.preNode.tabIndex=0;var l=document.createElement("div");this.postNode=this.dialogNode.parentNode.insertBefore(l,this.dialogNode.nextSibling),this.postNode.tabIndex=0,e.OpenDialogList.length>0&&e.getCurrentDialog().removeListeners(),this.addListeners(),e.OpenDialogList.push(this),this.clearDialog(),this.dialogNode.className="default_dialog",this.focusFirst?this.focusFirst.focus():e.Utils.focusFirstDescendant(this.dialogNode),this.lastFocus=document.activeElement},e.Dialog.prototype.clearDialog=function(){Array.prototype.map.call(this.dialogNode.querySelectorAll("input"),function(t){t.value=""})},e.Dialog.prototype.close=function(){e.OpenDialogList.pop(),this.removeListeners(),e.Utils.remove(this.preNode),e.Utils.remove(this.postNode),this.dialogNode.className="hidden",this.backdropNode.classList.remove("active"),this.focusAfterClosed.focus(),e.OpenDialogList.length>0?e.getCurrentDialog().addListeners():document.body.classList.remove(e.Utils.dialogOpenClass)},e.Dialog.prototype.replace=function(t,o,s){e.OpenDialogList.pop(),this.removeListeners(),e.Utils.remove(this.preNode),e.Utils.remove(this.postNode),this.dialogNode.className="hidden",this.backdropNode.classList.remove("active");var i=o||this.focusAfterClosed;new e.Dialog(t,i,s)},e.Dialog.prototype.addListeners=function(){document.addEventListener("focus",this.trapFocus,!0)},e.Dialog.prototype.removeListeners=function(){document.removeEventListener("focus",this.trapFocus,!0)},e.Dialog.prototype.trapFocus=function(t){if(!e.Utils.IgnoreUtilFocusChanges){var o=e.getCurrentDialog();o.dialogNode.contains(t.target)?o.lastFocus=t.target:(e.Utils.focusFirstDescendant(o.dialogNode),o.lastFocus==document.activeElement&&e.Utils.focusLastDescendant(o.dialogNode),o.lastFocus=document.activeElement)}},window.openDialog=function(t,o,s){new e.Dialog(t,o,s)},window.closeDialog=function(t){var o=e.getCurrentDialog();o.dialogNode.contains(t)&&o.close()},window.replaceDialog=function(t,o,s){var i=e.getCurrentDialog();i.dialogNode.contains(document.activeElement)&&i.replace(t,o,s)}})();
